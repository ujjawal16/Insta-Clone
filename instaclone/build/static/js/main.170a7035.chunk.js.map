{"version":3,"sources":["components/Navbar.js","components/screens/Login.js","components/screens/Signup.js","components/screens/Profile.js","components/screens/Home.js","components/screens/CreatePost.js","reducers/userReducer.js","components/screens/UserProfile.js","components/screens/SubscribesUserPosts.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","useContext","UserContext","state","dispatch","history","useHistory","className","to","id","onClick","localStorage","clear","type","push","Login","useState","email","setEmail","password","setPassword","placeholder","value","onChange","e","target","test","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","error","M","toast","html","classes","setItem","token","user","payload","catch","err","Signup","name","setName","image","setImage","undefined","url","setUrl","useEffect","uploadFields","pic","message","onSubmit","FormData","append","uploadPic","files","Profile","mypics","setMypics","getItem","result","myPost","window","location","reload","style","maxWidth","margin","borderBottom","display","justifyContent","width","height","borderRadius","src","length","followers","following","file","map","item","photo","alt","title","_id","Home","setData","posts","padding","postedBy","postid","newData","filter","float","color","likes","includes","postId","comments","record","fontWeight","text","preventDefault","CreatePost","setTitle","setBody","textAlign","postDetails","reducer","action","userProfile","setUserProfile","userid","useParams","showFollow","setShowFollow","followId","prevState","unfollowId","newFollower","createContext","Routing","parse","exact","path","UserProfile","SubscribesUserPosts","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.170a7035.chunk.js","sourcesContent":["import React,{useContext} from 'react'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../App'\r\nconst Navbar = () => {\r\n\r\n    const {state,dispatch}=useContext(UserContext)\r\n    const history=useHistory()\r\n    const renderList=()=>{\r\n            if(state)\r\n            {\r\n                return [\r\n                    <li><Link to=\"/profile\">Profile</Link></li>,\r\n                    <li><Link to=\"/createpost\">Create Post</Link></li>,\r\n                    <li><Link to=\"/myfollowingpost\">Following</Link></li>,\r\n                    <li>\r\n                        <button onClick={()=>{\r\n                            localStorage.clear()\r\n                            dispatch({type:\"CLEAR\"})\r\n                            history.push('/login')\r\n                        }\r\n                        \r\n                        } className=\"btn waves-effect waves-light #64b5f6 blue darken-2\">Logout</button>\r\n                    </li>\r\n                ]\r\n            }\r\n            else{\r\n                return [\r\n                    <li><Link to=\"/login\">Login</Link></li>,\r\n                    <li><Link to=\"/signup\">SignUp</Link></li>\r\n                ]\r\n            }\r\n    }\r\n    return (\r\n     <nav>\r\n  <div className=\"nav-wrapper white\" >\r\n    <Link to={state?\"/\":\"/login\"} className=\"brand-logo left\">Instagram</Link>\r\n    <ul id=\"nav-mobile\" className=\"right \">\r\n      {renderList()}\r\n    </ul>\r\n  </div>\r\n</nav>\r\n\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React,{useState,useContext} from 'react'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport M from \"materialize-css\"\r\nimport {UserContext} from '../../App'\r\nconst Login = () => {\r\n    const {state,dispatch}=useContext(UserContext)\r\n\r\n    const history=useHistory()\r\n    \r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const onSubmit=()=>{\r\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))\r\n        {\r\n            M.toast({html: \"Invalid email\",classes:\"#c62828 red darken-3\"})\r\n            return\r\n        }\r\n        fetch(\"/login\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data)\r\n            if(data.error)\r\n            {\r\n                M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\r\n            }\r\n            else{\r\n                localStorage.setItem(\"jwt\",data.token)\r\n                localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n                dispatch({type:\"USER\",payload:data.user})\r\n                M.toast({html: \"logged in successfully\",classes:\"#43a047 green darken-1\"})\r\n                history.push('/')\r\n            }\r\n        })\r\n        .catch(err=>console.log(err))\r\n    }\r\n    return (\r\n            <div className=\"myCard\">\r\n                <div className=\"card auth-card input-field\">\r\n                    <h2>Instagram</h2>\r\n                    <input type=\"text\"\r\n                    placeholder=\"email\" \r\n                    value={email}\r\n                    onChange={(e)=>setEmail(e.target.value)}/>\r\n                     <input type=\"password\"\r\n                    placeholder=\"password\" \r\n                    value={password}\r\n                    onChange={(e)=>setPassword(e.target.value)}/>\r\n                    <button onClick={()=>onSubmit()} className=\"btn waves-effect waves-light #64b5f6 blue darken-2\">Login</button>\r\n\r\n                    <h5><Link to=\"/signup\">Don't have an account?</Link></h5>\r\n                </div>\r\n                </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport M from \"materialize-css\"\r\nconst Signup = () => {\r\n    const history=useHistory()\r\n    const [name, setName] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [image, setImage] = useState(\"\")\r\n    const [url, setUrl] = useState(undefined)\r\n\r\n    useEffect(() => {\r\n        if(url)\r\n        {\r\n            uploadFields()\r\n        }\r\n    }, [url])\r\n\r\n    const uploadPic=()=>{\r\n        const data =new FormData()\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"insta-clone\")\r\n        data.append(\"cloud_name\",\"ujjawal16\")\r\n        fetch(\"https://api.cloudinary.com/v1_1/ujjawal16/image/upload\",{\r\n            method:\"post\",\r\n            body:data\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n            setUrl(data.url)\r\n        })\r\n        .catch(err=>console.log(err))\r\n    }\r\n    const uploadFields=()=>{\r\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))\r\n        {\r\n            M.toast({html: \"Invalid email\",classes:\"#c62828 red darken-3\"})\r\n            return\r\n        }\r\n        fetch(\"/signup\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                name,\r\n                email,\r\n                password,\r\n                pic:url\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            if(data.error)\r\n            {\r\n                M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\r\n            }\r\n            else{\r\n                M.toast({html: data.message,classes:\"#43a047 green darken-1\"})\r\n                history.push('/login')\r\n            }\r\n        })\r\n        .catch(err=>console.log(err))\r\n    }\r\n\r\n    const onSubmit=()=>{\r\n        if(image){\r\n            uploadPic()\r\n        }\r\n        else{\r\n            uploadFields()\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"myCard\">\r\n                <div className=\"card auth-card input-field\">\r\n                    <h2>Instagram</h2>\r\n                    <input type=\"text\"\r\n                    placeholder=\"name\"\r\n                    value={name}\r\n                    onChange={(e)=>setName(e.target.value)} />\r\n                    \r\n                    <input type=\"text\"\r\n                    placeholder=\"email\" \r\n                    value={email}\r\n                    onChange={(e)=>setEmail(e.target.value)}/>\r\n                     <input type=\"password\"\r\n                    placeholder=\"password\" \r\n                    value={password}\r\n                    onChange={(e)=>setPassword(e.target.value)}/>\r\n                    <div className=\"file-field input-field\">\r\n                        <div className=\"btn #64b5f6 blue darken-2\">\r\n                        <span>Upload Image</span>\r\n                        <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])} />\r\n                        </div>\r\n                        <div className=\"file-path-wrapper\">\r\n                        <input className=\"file-path validate\" type=\"text\" />\r\n                        </div>\r\n                    </div>\r\n                    <button onClick={()=>onSubmit()} className=\"btn waves-effect waves-light #64b5f6 blue darken-2\">Sign Up</button>\r\n\r\n                    <h5><Link to=\"/login\">Already have an account?</Link></h5>\r\n                </div>\r\n                </div>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","import React,{useEffect,useState,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\n\r\nconst Profile = () => {\r\n    const [mypics,setMypics]=useState([])\r\n    const {state,dispatch}=useContext(UserContext)\r\n    const [image, setImage] = useState(\"\")\r\n    \r\n\r\n    useEffect(() => {\r\n        fetch('/mypost',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n           setMypics(result.myPost)\r\n        })\r\n    }, [])\r\n    useEffect(() => {\r\n        if(image)\r\n        {\r\n            const data =new FormData()\r\n            data.append(\"file\",image)\r\n            data.append(\"upload_preset\",\"insta-clone\")\r\n            data.append(\"cloud_name\",\"ujjawal16\")\r\n            fetch(\"https://api.cloudinary.com/v1_1/ujjawal16/image/upload\",{\r\n                method:\"post\",\r\n                body:data\r\n            })\r\n            .then(res=>res.json())\r\n            .then(data=>{\r\n                \r\n                // localStorage.setItem(\"user\",JSON.stringify({...state,pic:data.url}))\r\n                // dispatch({type:\"UPDATEPIC\",payload:data.url})\r\n                fetch('/updatepic',{\r\n                    method:\"put\",\r\n                    headers:{\r\n                        \"Content-Type\":\"application/json\",\r\n                        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                    },\r\n                    body:JSON.stringify({\r\n                        pic:data.url\r\n                    })\r\n                }).then(res=>res.json())\r\n                .then(result=>{\r\n                        console.log(result)\r\n                        localStorage.setItem(\"user\",JSON.stringify({...state,pic:result.pic}))\r\n                        dispatch({type:\"UPDATEPIC\",payload:result.url})\r\n                        window.location.reload()\r\n                    })\r\n                \r\n                \r\n            })\r\n            .catch(err=>console.log(err))\r\n\r\n            }\r\n    }, [image])\r\n    const updatePic=(file)=>{\r\n        setImage(file)\r\n        \r\n    }\r\n\r\n    return (\r\n        <div style={{maxWidth:\"550px\" ,margin:\"0px auto\"}}> \r\n        <div style={{ margin:\"18px 0px\",borderBottom:\"1px solid grey\"}}>\r\n\r\n        \r\n           <div style={{display:\"flex\",justifyContent:\"space-around\"}}>\r\n               <div>\r\n                    <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}}\r\n                    src={state?state.pic:\"loading\"}\r\n                    />\r\n                    \r\n\r\n               </div>\r\n               <div >\r\n                   <h4>{state?state.name:\"loading\"}</h4>\r\n                   <h5>{state?state.email:\"loading\"}</h5>\r\n                   <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\r\n                        <h6>{mypics.length} posts</h6>\r\n                        <h6>{state?state.followers.length:\"0\"} followers</h6>\r\n                        <h6>{state?state.following.length:\"0\"} following</h6>\r\n                    </div>  \r\n               </div>\r\n           </div>\r\n           \r\n           <div className=\"file-field input-field\" style={{margin:\"10px 0px 10px 68px\"}}>\r\n                        <div className=\"btn #64b5f6 blue darken-2\">\r\n                        <span>Update Pic</span>\r\n                        <input type=\"file\" onChange={(e)=>updatePic(e.target.files[0])} />\r\n                        </div>\r\n                        <div className=\"file-path-wrapper\">\r\n                        <input className=\"file-path validate\" type=\"text\" />\r\n                        </div>\r\n            </div>\r\n           \r\n           </div>\r\n        <div className=\"gallery\">\r\n            {\r\n                mypics.map(item=>{\r\n                    return(<img key={item._id} className=\"item\" src={item.photo} alt={item.title} />)\r\n                })\r\n            }\r\n        </div>\r\n        \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React,{useState,useEffect,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {Link} from 'react-router-dom'\r\nconst  Home = () => {\r\n    const [data,setData]=useState([])\r\n    const {state,dispatch}=useContext(UserContext)\r\n\r\n    useEffect(() => {\r\n        fetch('/allposts',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            \r\n            setData(result.posts)\r\n        })\r\n    }, [])\r\n\r\n    const likePost=(id)=>{\r\n            fetch('/like',{\r\n                method:\"put\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\",\r\n                    \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                },\r\n                body:JSON.stringify({\r\n                    postId:id\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                //console.log(result)\r\n                const newData=data.map(item=>{\r\n                    if(item._id==result._id)\r\n                    {\r\n                        return result\r\n                    }\r\n                    else{\r\n                        return item\r\n                    }\r\n                })\r\n                setData(newData)\r\n            }).catch(err=>console.log(err))\r\n            \r\n    }\r\n    const unlikePost=(id)=>{\r\n        fetch('/unlike',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            //console.log(result)\r\n            const newData=data.map(item=>{\r\n                if(item._id==result._id)\r\n                {\r\n                    return result\r\n                }\r\n                else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>console.log(err))\r\n     }\r\n     const makeComment=(text,postId)=>{\r\n        fetch('/comment',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId,\r\n                text\r\n            })\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                //console.log(result)\r\n                const newData=data.map(item=>{\r\n                if(item._id==result._id)\r\n                {\r\n                    return result\r\n                }\r\n                else{\r\n                    return item\r\n                }\r\n\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>console.log(err))\r\n    }\r\n    const deletePost=(postid)=>{\r\n        fetch(`/deletepost/${postid}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n            const newData=data.filter(item=>{\r\n                return item._id!==result._id\r\n            })\r\n            setData(newData)\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"home\">\r\n\r\n            {\r\n                data.map(item=>{\r\n                    return(\r\n                        <div className=\"card home-card\" key={item._id}>\r\n                        <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id!==state._id?\"/profile/\"+item.postedBy._id:\"/profile\"}>{item.postedBy.name}</Link>{item.postedBy._id==state._id &&\r\n                        <i onClick={()=>{deletePost(item._id)}}className=\"material-icons\" style={{float:\"right\"}}>delete</i>}</h5>\r\n                        <div className=\"card-image\">\r\n                            <img src={item.photo} />\r\n                        </div>\r\n                        <div className=\"card-content\">\r\n                        <i className=\"material-icons\"style={{color:\"red\"}}>favorite</i>\r\n                        {\r\n                            item.likes.includes(state._id)?<i onClick={()=>{unlikePost(item._id)}}className=\"material-icons\">thumb_down</i>\r\n                            :<i onClick={()=>{likePost(item._id)}}className=\"material-icons\">thumb_up</i>\r\n                        }\r\n                        \r\n                        \r\n                            <h6>{item.likes.length} likes</h6>\r\n                            <h6>{item.title}</h6>\r\n                            <p>{item.body}</p>\r\n                            {\r\n                                item.comments.map(record=>{\r\n                                    return(\r\n                                        <h6 key={record._id}><span style={{fontWeight:\"500\"}} >{record.postedBy.name}</span> {record.text}</h6>\r\n                                    )\r\n                                })\r\n                            }\r\n                            <form onSubmit={(e)=>{\r\n                                e.preventDefault();\r\n                                makeComment(e.target[0].value,item._id)\r\n                            }}>\r\n                            <input type=\"text\" placeholder=\"add a comment\" />\r\n                            </form>\r\n                            \r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    )\r\n                })\r\n            }\r\n\r\n            \r\n            \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React,{useState,useEffect}  from 'react'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport M from \"materialize-css\"\r\nconst CreatePost = () => {\r\n    const history=useHistory()\r\n    const [title, setTitle] = useState(\"\")\r\n    const [body, setBody] = useState(\"\")\r\n    const [image, setImage] = useState(\"\")\r\n    const [url, setUrl] = useState(\"\")\r\n\r\n    useEffect(()=>{\r\n            if(url)\r\n            {\r\n                fetch(\"/createpost\",{\r\n                    method:\"post\",\r\n                    headers:{\r\n                        \"Content-Type\":\"application/json\",\r\n                        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                    },\r\n                    body:JSON.stringify({\r\n                        title,\r\n                        body,\r\n                        pic:url\r\n                    })\r\n                }).then(res=>res.json())\r\n                .then(data=>{\r\n                    if(data.error)\r\n                    {\r\n                        M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\r\n                    }\r\n                    else{\r\n                        \r\n                        M.toast({html: \"Image Uploaded Successfully\",classes:\"#43a047 green darken-1\"})\r\n                        history.push('/')\r\n                    }\r\n                })\r\n                .catch(err=>console.log(err))\r\n\r\n            }\r\n    },[url])\r\n    const postDetails=()=>{\r\n        const data =new FormData()\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"insta-clone\")\r\n        data.append(\"cloud_name\",\"ujjawal16\")\r\n        fetch(\"https://api.cloudinary.com/v1_1/ujjawal16/image/upload\",{\r\n            method:\"post\",\r\n            body:data\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n            setUrl(data.url)\r\n        })\r\n        .catch(err=>console.log(err))\r\n\r\n        \r\n    }\r\n    \r\n\r\n\r\n    return (\r\n    <div className=\"card input-field\" style={{\r\n        margin:\"50px auto\",\r\n        maxWidth:\"500px\",\r\n        padding:\"20px\",\r\n        textAlign:\"center\"\r\n    }}>\r\n        <input type=\"text\" placeholder=\"title\"\r\n        value={title} onChange={(e)=>setTitle(e.target.value)} />\r\n        <input type=\"text\" placeholder=\"body\"\r\n        value={body} onChange={(e)=>setBody(e.target.value)} />\r\n        <div className=\"file-field input-field\">\r\n            <div className=\"btn #64b5f6 blue darken-2\">\r\n            <span>Upload Image</span>\r\n            <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])} />\r\n            </div>\r\n            <div className=\"file-path-wrapper\">\r\n            <input className=\"file-path validate\" type=\"text\" />\r\n            </div>\r\n        </div>\r\n        <br></br>\r\n        <button className=\"btn waves-effect waves-light #64b5f6 blue darken-2\"\r\n        onClick={()=>postDetails()}>Submit Post</button>\r\n    </div>\r\n\r\n    )\r\n}\r\n\r\nexport default CreatePost\r\n","export const initialState=null\r\n\r\nexport const reducer=(state,action)=>{\r\n    if(action.type==\"USER\")\r\n    {\r\n        return action.payload\r\n    }\r\n    if(action.type==\"CLEAR\")\r\n    {\r\n        return null\r\n    }\r\n    if(action.type==\"UPDATE\")\r\n    {\r\n        return {\r\n            ...state,\r\n            followers:action.payload.followers,\r\n            following:action.payload.following\r\n        }\r\n    }\r\n    if(action.type==\"UPDATEPIC\")\r\n    {\r\n        return {\r\n            ...state,\r\n            pic:action.payload\r\n        }\r\n    }\r\n    return state\r\n}","import React,{useEffect,useState,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {useParams} from 'react-router-dom'\r\n\r\nconst Profile = () => {\r\n    const [userProfile,setUserProfile]=useState(null)\r\n    \r\n    const {state,dispatch}=useContext(UserContext)\r\n    const {userid}=useParams();\r\n    const [showFollow,setShowFollow]=useState(state?!state.following.includes(userid):true)\r\n    console.log(userid)\r\n    useEffect(() => {\r\n        fetch( `/user/${userid}`,{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n            setUserProfile(result)\r\n        })\r\n    }, [])\r\n\r\n    const followUser=()=>{\r\n        fetch('/follow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                followId:userid\r\n            })\r\n            }).then(res=>res.json())\r\n            .then(data=>{\r\n                console.log(data)\r\n                dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\r\n                localStorage.setItem(\"user\",JSON.stringify(data))\r\n                setUserProfile((prevState)=>{\r\n                        return {\r\n                            ...prevState,\r\n                            user:{\r\n                                ...prevState.user,\r\n                                followers:[...prevState.user.followers,data._id]\r\n                            }\r\n                        }\r\n                })\r\n                setShowFollow(false)\r\n            })\r\n    }\r\n    const unfollowUser=()=>{\r\n        fetch('/unfollow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                unfollowId:userid\r\n            })\r\n            }).then(res=>res.json())\r\n            .then(data=>{\r\n                console.log(data)\r\n                dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\r\n                localStorage.setItem(\"user\",JSON.stringify(data))\r\n                setUserProfile((prevState)=>{\r\n                    const newFollower=prevState.user.followers.filter(item=>item!=data._id)\r\n                        return {\r\n                            ...prevState,\r\n                            user:{\r\n                                ...prevState.user,\r\n                                followers:newFollower\r\n                            }\r\n                        }\r\n                })\r\n                setShowFollow(true)\r\n            })\r\n    }\r\n\r\n    \r\n    return (\r\n        <>\r\n        {userProfile?<div style={{maxWidth:\"550px\" ,margin:\"0px auto\"}}> \r\n           <div style={{display:\"flex\",justifyContent:\"space-around\", margin:\"18px 0px\",borderBottom:\"1px solid grey\"}}>\r\n               <div>\r\n                    <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}}\r\n                    src={userProfile.user.pic}\r\n                    />\r\n               </div>\r\n               <div >\r\n                   <h4>{userProfile.user.name}</h4>\r\n                   <h5>{userProfile.user.email}</h5>\r\n                   <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\r\n                        <h6>{userProfile.posts.length} posts</h6>\r\n                        <h6>{userProfile.user.followers.length} followers</h6>\r\n                        <h6>{userProfile.user.following.length} following</h6>\r\n                    </div>  \r\n                    {showFollow?<button style={{margin:\"10px\"}} onClick={()=>followUser()} className=\"btn waves-effect waves-light #64b5f6 blue darken-2\">Follow</button>\r\n                    :<button style={{margin:\"10px\"}} onClick={()=>unfollowUser()} className=\"btn waves-effect waves-light #64b5f6 blue darken-2\">Unfollow</button>\r\n                    }\r\n                    \r\n                    \r\n               </div>\r\n           </div>\r\n           <div className=\"gallery\">\r\n            {\r\n                userProfile.posts.map(item=>{\r\n                    return(<img key={item._id} className=\"item\" src={item.photo} alt={item.title} />)\r\n                })\r\n            }\r\n        </div>\r\n        \r\n        </div>:<h2>Loading ...</h2>}\r\n        </>\r\n        \r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React,{useState,useEffect,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {Link} from 'react-router-dom'\r\nconst  Home = () => {\r\n    const [data,setData]=useState([])\r\n    const {state,dispatch}=useContext(UserContext)\r\n\r\n    useEffect(() => {\r\n        fetch('/getfollpost',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            \r\n            setData(result.posts)\r\n        })\r\n    }, [])\r\n\r\n    const likePost=(id)=>{\r\n            fetch('/like',{\r\n                method:\"put\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\",\r\n                    \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                },\r\n                body:JSON.stringify({\r\n                    postId:id\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                //console.log(result)\r\n                const newData=data.map(item=>{\r\n                    if(item._id==result._id)\r\n                    {\r\n                        return result\r\n                    }\r\n                    else{\r\n                        return item\r\n                    }\r\n                })\r\n                setData(newData)\r\n            }).catch(err=>console.log(err))\r\n            \r\n    }\r\n    const unlikePost=(id)=>{\r\n        fetch('/unlike',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            //console.log(result)\r\n            const newData=data.map(item=>{\r\n                if(item._id==result._id)\r\n                {\r\n                    return result\r\n                }\r\n                else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>console.log(err))\r\n     }\r\n     const makeComment=(text,postId)=>{\r\n        fetch('/comment',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId,\r\n                text\r\n            })\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                //console.log(result)\r\n                const newData=data.map(item=>{\r\n                if(item._id==result._id)\r\n                {\r\n                    return result\r\n                }\r\n                else{\r\n                    return item\r\n                }\r\n\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>console.log(err))\r\n    }\r\n    const deletePost=(postid)=>{\r\n        fetch(`/deletepost/${postid}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n            const newData=data.filter(item=>{\r\n                return item._id!==result._id\r\n            })\r\n            setData(newData)\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"home\">\r\n\r\n            {\r\n                data.map(item=>{\r\n                    return(\r\n                        <div className=\"card home-card\" key={item._id}>\r\n                        <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id!==state._id?\"/profile/\"+item.postedBy._id:\"/profile\"}>{item.postedBy.name}</Link>{item.postedBy._id==state._id &&\r\n                        <i onClick={()=>{deletePost(item._id)}}className=\"material-icons\" style={{float:\"right\"}}>delete</i>}</h5>\r\n                        <div className=\"card-image\">\r\n                            <img src={item.photo} />\r\n                        </div>\r\n                        <div className=\"card-content\">\r\n                        <i className=\"material-icons\"style={{color:\"red\"}}>favorite</i>\r\n                        {\r\n                            item.likes.includes(state._id)?<i onClick={()=>{unlikePost(item._id)}}className=\"material-icons\">thumb_down</i>\r\n                            :<i onClick={()=>{likePost(item._id)}}className=\"material-icons\">thumb_up</i>\r\n                        }\r\n                        \r\n                        \r\n                            <h6>{item.likes.length} likes</h6>\r\n                            <h6>{item.title}</h6>\r\n                            <p>{item.body}</p>\r\n                            {\r\n                                item.comments.map(record=>{\r\n                                    return(\r\n                                        <h6 key={record._id}><span style={{fontWeight:\"500\"}} >{record.postedBy.name}</span> {record.text}</h6>\r\n                                    )\r\n                                })\r\n                            }\r\n                            <form onSubmit={(e)=>{\r\n                                e.preventDefault();\r\n                                makeComment(e.target[0].value,item._id)\r\n                            }}>\r\n                            <input type=\"text\" placeholder=\"add a comment\" />\r\n                            </form>\r\n                            \r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    )\r\n                })\r\n            }\r\n\r\n            \r\n            \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, { useEffect,createContext,useReducer,useContext } from 'react'\nimport Navbar from './components/Navbar'\nimport './App.css'\nimport {BrowserRouter,Route,Switch,useHistory,useParams} from 'react-router-dom'\nimport Login from './components/screens/Login'\nimport Signup from './components/screens/Signup'\nimport Profile from './components/screens/Profile'\nimport Home from './components/screens/Home'\nimport CreatePost from './components/screens/CreatePost'\nimport {reducer,initialState} from './reducers/userReducer'\nimport UserProfile from './components/screens/UserProfile'\nimport SubscribesUserPosts from './components/screens/SubscribesUserPosts'\n\nexport const UserContext=createContext()\n\nconst Routing=()=>{\n  \n  const history=useHistory()\n  const {state,dispatch}=useContext(UserContext)\n\n  useEffect(()=>{\n      const user=JSON.parse(localStorage.getItem(\"user\"))\n      if(user)\n      {\n        dispatch({type:\"USER\",payload:user})\n       \n      }\n      else{\n        history.push('/signin')\n      }\n  },[])\n    return(\n          <Switch>\n          <Route exact path=\"/\" >\n          <Home />\n          </Route>\n          <Route path=\"/signup\" >\n              <Signup />\n          </Route>\n          <Route path=\"/login\" >\n              <Login />\n          </Route>\n          <Route exact path=\"/profile\" >\n              <Profile />\n          </Route>\n          <Route path=\"/createpost\" >\n              <CreatePost />\n          </Route>\n          <Route path=\"/profile/:userid\" >\n              <UserProfile />\n          </Route>\n          <Route path=\"/myfollowingpost\" >\n              <SubscribesUserPosts />\n          </Route>\n    </Switch>\n    )\n}\n\n\nfunction App() {\n  const [state,dispatch]=useReducer(reducer,initialState)\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n    <BrowserRouter>\n   <Navbar />\n   <Routing />\n   </BrowserRouter>\n   </UserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}